[[getting-started.running]]
=== Getting Embabel Running

==== Running the Examples

The quickest way to get started with Embabel is to run the examples:

[source,bash]
----
# Clone and run examples
git clone https://github.com/embabel/embabel-agent-examples
cd embabel-agent-examples/scripts/java
./shell.sh
----

NOTE: Choose the `java` or `kotlin` scripts directory depending on your preference.

==== Prerequisites

- Java 21+
- API Key from OpenAI or Anthropic
- Maven 3.9+ (optional)

Set your API keys:

[source,bash]
----
export OPENAI_API_KEY="your_openai_key"
export ANTHROPIC_API_KEY="your_anthropic_key"
----

==== Using the Shell

Spring Shell is an easy way to interact with the Embabel agent framework, especially during development.

Type `help` to see available commands.
Use `execute` or `x` to run an agent:

----
execute "Lynda is a Scorpio, find news for her" -p -r
----

This will look for an agent, choose the star finder agent and run the flow. `-p` will log prompts `-r` will log LLM responses.
Omit these for less verbose logging.

Options:

- `-p` logs prompts
- `-r` logs LLM responses

Use the `chat` command to enter an interactive chat with the agent.
It will attempt to run the most appropriate agent for each command.

TIP: Spring Shell supports history.
Type `!!` to repeat the last command.
This will survive restarts, so is handy when iterating on an agent.

==== Example Commands

Try these commands in the shell:

----
# Simple horoscope agent
execute "My name is Sarah and I'm a Leo"

# Research with web tools (requires Docker Desktop with MCP extension)
execute "research the recent australian federal election. what is the position of the Greens party?"

# Fact checking
x "fact check the following: holden cars are still made in australia"
----

==== Implementing Your Own Shell Commands

Particularly during development, you may want to implement your own shell commands to try agents or flows.
Simply write a Spring Shell component and Spring will inject it and register it automatically.

For example, you can inject the `AgentPlatform` and use it to invoke agents directly, as in this code from the examples repository:

[source,java]
----
@ShellComponent
public record SupportAgentShellCommands(
        AgentPlatform agentPlatform
) {

    @ShellMethod("Get bank support for a customer query")
    public String bankSupport(
            @ShellOption(value = "id", help = "customer id", defaultValue = "123") Long id,
            @ShellOption(value = "query", help = "customer query", defaultValue = "What's my balance, including pending amounts?") String query
    ) {
        var supportInput = new SupportInput(id, query);
        System.out.println("Support input: " + supportInput);
        var invocation = AgentInvocation
                .builder(agentPlatform)
                .options(ProcessOptions.builder().verbosity(v -> v.showPrompts(true)).build())
                .build(SupportOutput.class);
        var result = invocation.invoke(supportInput);
        return result.toString();
    }
}
----

